window.zmCrosstab=function(){"use strict";var a={},b={},c=[],d=function(){return"localStorage"in window&&null!==window.localStorage},e=function(a){return localStorage.getItem(a)},f=function(a){return void 0!==localStorage[a]},g=function(a,b){var c=e(a);return c!==b},h=function(a,b,c){try{"object"==typeof a&&(a=JSON.stringify(a)),"object"==typeof b&&(b=JSON.stringify(b)),g(a,b)&&(c?localStorage[a]=b:f(a)||(localStorage[a]=b))}catch(d){}};b.remove=function(a){_zm._isPrivilegedUser()&&("object"==typeof a&&(a=JSON.stringify(a)),localStorage.removeItem(a))},b.renew=function(a,b){if(_zm._isPrivilegedUser())return localStorage[a]?void h(a,b,!0):"key not available"},b.subscribe=function(b,e,f,g){if(_zm._isPrivilegedUser()){if(!d())return"Browser has no support";if(!(b&&e&&f&&"function"==typeof f))return"invalid parameters";void 0===g&&(g=!0),h(b,e,g),a[b]=f,c.push(b)}};var i=function(b){try{var d=b.key,e=function(){var c=b.newValue;c=JSON.parse(c),a[d]&&a[d](c)};if(!_zm._isPrivilegedUser())return;c.indexOf(d)!==-1&&e()}catch(f){zmUtil.debugLog(f)}};return window.addEventListener("storage",function(a){i(a)}),b}(),window.zmMsgProcessor=function(){"use strict";var a={},b={markFlag:{inWindow:!0,fn:function(a){zmmailAct.rapplyAction({result:"success"},a)},childFn:function(a){zmWindow.rapplyActions({result:"success"},a)}},moveActions:{inWindow:!0,fn:function(a){zmmailAct.rdoAction({result:"success"},a)},childFn:function(a){zmWindow.rdoActions({result:"success"},a)}}},c={_settMail:{customize_view:{inWindow:!1,_handler:function(a){var b=a.type;zmInit.customizeDisplayDensity(b)}},mailOpenType:{inWindow:!1,_handler:function(a){zmail.mailOpt.isPopup=a.type}},fontChange:{inWindow:!1,_handler:function(a){zmAdHocSettings.setFont(a.value,{sync:!1})}},themeChange:{inWindow:!1,_handler:function(a){zmAdHocSettings.setTheme(a.value,{sync:!1})}},appOrderChange:{inWindow:!1,_handler:function(a){zmAdHocSettings.setAppOrder(a.value,{sync:!1}),zmail.appList.reRenderAppArea(),zmApp.selectApp(zmApp.currentApp)}},leftOrderChange:{inWindow:!1,_handler:function(a){zmAdHocSettings.setLeftOrder(a.value,{sync:!1}),"m"===zmApp.currentApp&&zmail.mailLeft.render()}}},_settCompose:{composeOpenType:{inWindow:!1,_handler:function(a){zmail.mailOpt.compTab=a.type,1===a.type?zmail.allowInline=!1:zmail.allowInline=!0}},addRecipients:{inWindow:!1,_handler:function(a){zmail.userOptions.autoAddContacts=a.type}},askReceipt:{inWindow:!1,_handler:function(a){zmail.mailOpt.askReceipt=a.type}},encode:{inWindow:!1,_handler:function(a){zmail.cmpdata.CHAR_SET=a.type}},font:{inWindow:!0,_handler:function(a){zmail.mailOpt.ff=a.type}},fontSize:{inWindow:!0,_handler:function(a){zmail.mailOpt.fs=a.type}},mailSendingDelay:{inWindow:!0,_handler:function(a){zmail.cmpdata.OUT_INTERVAL=a.type}}},_settSignature:{newSign:{inWindow:!0,_handler:function(a){var b=a.data;zmail.cmpdata.SIGN_INFO[b.id]={},zmail.cmpdata.SIGN_INFO[b.id].SIG_CONT=b.content,zmail.cmpdata.SIGN_INFO[b.id].SIG_TIT=b.name,zmail.cmpdata.SIGN_INFO[b.id].SIG_POS=b.position}},updSign:{inWindow:!0,_handler:function(a){var b=a.data;zmail.cmpdata.SIGN_INFO&&zmail.cmpdata.SIGN_INFO[b.id]&&(zmail.cmpdata.SIGN_INFO[b.id].SIG_CONT=b.content,zmail.cmpdata.SIGN_INFO[b.id].SIG_TIT=b.name,zmail.cmpdata.SIGN_INFO[b.id].SIG_POS=b.position)}},delSign:{inWindow:!0,_handler:function(a){var b=a.data;b.id&&delete zmail.cmpdata.SIGN_INFO[b.id]}},assSign:{inWindow:!0,_handler:function(a){var b,c=a.data;c.mailIds&&c.mailIds.length&&(b=c.mailIds[0],b&&zmail.cmpdata.FROM_LIST[b]&&(zmail.cmpdata.FROM_LIST[b].FRM_SIGID=c.id)),c.mailIdsWithNoSignature&&c.mailIdsWithNoSignature.length&&(b=c.mailIdsWithNoSignature[0],b&&zmail.cmpdata.FROM_LIST[b]&&(zmail.cmpdata.FROM_LIST[b].FRM_SIGID=null))}}},_settIntegration:{smartMenu:{inWindow:!0,_handler:function(a){zmAdHocSettings.setHelperBlockVisibility(a.value,{sync:!1}),zmail.mailOpt.ff=a.type}},projectsIntegration:{_handler:function(a){zmail.projectsInteg.settings.util.updateIntegrationStatus(a.portalId,a.status,!1)}}}};return a._handler=function(a){try{var d=a.key,e=a.info;if(d in b)zmUtil.isChildWindow()?b[d].inWindow&&zmWindow.syncer(e,b[d].childFn):b[d].fn(e);else if(d in c){var f=e.action,g=zmUtil.isChildWindow();!c[d][f]||g&&!c[d][f].inWindow||c[d][f]._handler(e)}}catch(h){zmUtil.debugLog(h)}},a}();