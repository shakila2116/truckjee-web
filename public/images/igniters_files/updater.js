window._updater=function(a){"use strict";a=a||{};var b={},c=zmText.get("updater","refreshBand"),d=zmText.get("updater","whatsNewCard");return b.refreshBandTitle=c.title,b.refreshBandDesc=c.desc,b.ignoreCommand=c.ignore,b.whatsNewBanner=d.Banner,b.whatsNewDesc1="Bonjour,  Hola!",b.whatsNewDesc2="We are happy to announce multilingual support for the new Zoho Mail.",b.whatsNewDesc3="Starting now, all the links, buttons and messages within Zoho Mail will appear in the language of your choice.",b.whatsNewDesc4="We support "+zmText.languagesList.length+" different languages now and will add more to our list soon.",b.whatsNewDesc5="Navigate to <b>Settings > Appearance > Display Language</b>, to set your language preference.",b.getUpdateList=function(){var a=[];return _.each(zmText.languagesList,function(b){a.push(b)}),a},b.whatsNewFooter="Danke, Arigato!",b.listAreaTitle="Supported Languages",a.constants=b,a}(window._updater),window._updater=function(a){"use strict";var b=a.view={},c=a.constants,d={whatsNew:['<div id="whatsNewContainer" x-id="whatsNewCardMask" class="whatsBg">','<div x-id="contentArea" class="whatsBox f15">','<h1 x-id="headerArea">','<i x-id="closeIcon" class="msi-close"></i>','<img src="'+zmail.imgPath+'mail-icon.png"/>','<span x-id="banner">'+c.whatsNewBanner+"</span>","</h1>","<br>","<p>"+c.whatsNewDesc1+"</p>","<br>","<p>"+c.whatsNewDesc2+"</p>","<br>","<p>"+c.whatsNewDesc3+"</p>","<br>","<p>"+c.whatsNewDesc4+"</p>",'<div x-id="listParent">','<b x-id="listAreaTitle">'+c.listAreaTitle+"</b>",'<ul x-id="listArea" tabIndex="1">',"</ul>","</div>","<p>"+c.whatsNewDesc5+"</p>","<br>","<p>"+c.whatsNewFooter+"</p>","</div>","</div>"].join(""),updateNotifier:["<div class='SC_newUpdate'>","<i class='SCnewUpdate'></i>","</div>"].join("")};return b.templates=d,a}(window._updater),window._updater=function(a){"use strict";a=a||{};var b=a.core={},c=a.view,d=a.constants,e=function(a){a=$(a);var b={},c=$(a.find("[x-id]")||[]);return c.each(function(a,c){c=$(c);var d=c.attr("x-id");b[d]=c[0],c.removeAttr("x-id")}),$(a).attr("x-id")&&(b[$(a).attr("x-id")]=$(a)[0],$(a).removeAttr("x-id")),b},f=function(a){a=a||{},$("#whatsNewContainer").length&&$("#whatsNewContainer").remove();var b,f,g=$(c.templates.whatsNew),h=e(g[0]),i=$(h.contentArea),j=zmComponent.keybindings.getScope();b=function(){i.removeClass("slideIn"),i.addClass("slideOut"),window.setTimeout(function(){$("#whatsNewContainer").remove()},500),zmComponent.keybindings.dropScope("whatsNew"),zmComponent.keybindings.setScope(j)},"whatsNew"===j&&(zmComponent.keybindings.dropScope("whatsNew"),j=zmComponent.keybindings.getCurrentNormalScope());var k={shortcuts:[{uid:"close",keyStr:"esc",actions:[function(){b()}]}],scope:"whatsNew",allowDefaultScope:!1};f=zmComponent.keybindings.getCurrentSuperScope(),f?k.parentScope=f:k.isSuperScope=!0,zmComponent.keybindings.registerAll(k),zmComponent.keybindings.setScope("whatsNew"),g.mousedown(function(a){a.stopPropagation()}),g.click(function(a){a.stopPropagation()}),g.mouseup(function(a){a.stopPropagation()});var l=$(h.listArea),m=$(h.closeIcon);d.getUpdateList().forEach(function(a){l.append("<li>"+a+"</li>")}),m.click(function(){b()}),$(document.body).append(g),window.setTimeout(function(){i.addClass("slideIn"),l.blur(),l.removeAttr("tabIndex")},100),l.focus()},g=function(){if(zmail.showFeature){var a,b=zmAdHocSettings.getWhatsNewVersion();"object"!=typeof b&&(b={}),a=(b||{}).whatsNewList||[],a.indexOf("-10.1-")>-1||(a.push("-10.1-"),b.whatsNewList=a,zmAdHocSettings.setWhatsNewVersion(b),f())}},h=function(){zmail.FeatureCard&&zmail.FeatureCard.init()};return b.featureCardAction=h,b.whatsNewAction=g,a}(window._updater),window._updater=function(a){"use strict";var b,c,d,e,f=a.core,g=zmText.get("updater"),h=!1,i=function(){return!d.isMouseOnMe()&&!e.isMouseOnMe()};b=function(a){return a.emoji=function(a){var b="SCnewUpdate";return a.emojiClass&&(b=a.emojiClass),["<div class='SC_newUpdate'>","<i class='"+b+"'></i>","</div>"].join("")},a.noticeBoardIgnoreAction=function(a){return a.showIgnore?["<span class='SC_SLine'/>","<span class='SC_link zmFrm' data-val='Cancel' ","data-action='ignoreCallback'  data-id='"+a.id+"'>",a.ignoreMsg,"</span>"].join(""):""},a.noticeBoard=function(b){return["<div style='max-width: 350px;' >",b.title,b.title&&"<br><br>",b.desc,"<br><br>","<span class='SC_link zmFrm' data-action='actionCallback' data-id='"+b.id+"'>",b.actionMsg,"</span>",a.noticeBoardIgnoreAction(b),"</div>"].join("")},a}({}),c=function(a){var b=1,c=b,d={1:{id:1,title:zmText.applyArgs(g.refreshBand.dearUser,{user:zmail.IAMFullName}),desc:g.refreshBand.desc,actionMsg:g.refreshBand.title,actionCallback:function(){window.location.reload(!0)}}};return a.setCurrentBoardId=function(a){c=a||b},a.getCurrentBoardDetail=function(){return d[c]},a.get=function(a){return d[a]},a.add=function(a){if(a){var b=String(Date.now());a.id=b,d[b]=a}},a.remove=function(a){delete d[a],c===a&&(c=b)},a}({}),e=function(a){var e,f,g,j=function(){var a=10,b=zmTab.getLowerExtraTabDOM().height();return b+a+"px"},k={showNoticeBoard:_.throttle(function(a){return a.stopPropagation(),a.stopImmediatePropagation(),h||(h=!0,d.show(),g.stopJumping()),!1},100),hideNoticeBoard:_.throttle(function(){i()&&(zmUtil.hideMenu(),g.jump())},3e3)},l=function(){f.on("mouseenter mousedown",k.showNoticeBoard),f.on("mouseleave",k.hideNoticeBoard),$.subscribe("BOTTOM_ICONS_LIST_CHANGE",a.position)};return a.position=function(){e&&e.css({bottom:j()})},a.create=function(){e=$(b.emoji(c.getCurrentBoardDetail())),f=e.find("i"),a.position(),zmsuite.getTabDOM().prepend(e),l(),zmail.emojiNotifier={$emojiTab:e,jumpingId:void 0}},a.createFromCache=function(){e=zmail.emojiNotifier.$emojiTab,f=e.find("i"),zmail.emojiNotifier&&zmail.emojiNotifier.jumpingId&&(clearInterval(zmail.emojiNotifier.jumpingId),zmail.emojiNotifier.jumpingId=void 0,a.position(),g.jump())},g=function(a){var b,c=function(){return f&&f.removeClass("updateJump")},d=function(){return f&&f.addClass("updateJump")},e=function(){f&&c().delay(100).queue(d).dequeue()},g=function(){return f&&f.addClass("topToBottom")},h=function(){return f&&f.removeClass("topToBottom")};return a.fallDown=function(){f&&(g().delay(1e3).queue(h),a.jump())},a.jump=function(){void 0===b&&(b=setInterval(e,5e3),zmail.emojiNotifier&&(zmail.emojiNotifier.jumpingId=b))},a.stopAnimating=function(){zmail.emojiNotifier&&(clearInterval(zmail.emojiNotifier.jumpingId),zmail.emojiNotifier.jumpingId=void 0),clearInterval(b),b=void 0},a.stopJumping=function(){void 0!==b&&(a.stopAnimating(),c())},a}({}),a.getDOM=function(){return f},a.isMouseOnMe=function(){return f&&f.is(":hover")},a.isDefined=function(){return zmail.emojiNotifier&&void 0!==zmail.emojiNotifier.$emojiTab},a.remove=function(){g.stopAnimating(),e&&(e.remove(),f=void 0),zmail.emojiNotifier&&(zmail.emojiNotifier=void 0),$.unsubscribe("BOTTOM_ICONS_LIST_CHANGE",a.position)},a.actions=g,a}({}),d=function(a){var d,f={mouseLeaveHandler:_.throttle(function(){i()&&(zmUtil.hideMenu(),e.actions.stopJumping(),e.actions.jump())},3e3),actionHandler:function(a,b){b=$(b);var d=b.data("action");if(d){var e=b.data("id"),f=c.get(e);f&&f[d]&&f[d]()}},hideHandler:function(){h=!1,d=void 0,e.isDefined()&&e.actions.jump()}};return a.isMouseOnMe=function(){return d&&d.$el&&d.$el.is(":hover")},a.show=function(){d=zmUtil.showMenu({divId:"updateNotifier",par:e.getDOM(),showArrow:!0,liHover:!1,direction:"rightBottom",clk:f.actionHandler,onHide:f.hideHandler,list:[{htm:b.noticeBoard(c.getCurrentBoardDetail())}]}),d.$el.on("mouseleave",f.mouseLeaveHandler)},a.remove=function(){zmUtil.hideMenu()},a}({}),f.removeNoticeBoardAndEmoji=function(){e.remove(),d.remove()};var j=function(){e.isDefined()?e.createFromCache():(e.create(),e.actions.fallDown())};return f.refreshAction=function(){f.removeNoticeBoardAndEmoji(),c.setCurrentBoardId(),j()},a}(window._updater||{}),window._updater=function(a){"use strict";a=a||{};var b=a.core,c=function(a,c){switch(a){case"1":zmail.isCustomDomain||b.whatsNewAction();break;case"2":"undefined"!=typeof c&&zmail.staticVersion!==c&&b.refreshAction();break;case"3":zmail.isCustomDomain||b.featureCardAction()}};return a.init=c,a}(window._updater);