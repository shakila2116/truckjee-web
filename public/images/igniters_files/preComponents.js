window.zmComponent=function(a){"use strict";a=a||{};var b=function(a){var c=a.length;if(0===c)return document.createTextNode("");var d=a[0];return c<=2&&"text"!==d&&"text:html"!==d&&"string"==typeof d?b.createNode(a):b.createChildNodes(a)};return b.createNode=function(a){var c,d=a[0],e=a[1];if("text"===d||"text:html"===d){c=document.createDocumentFragment();var f=e;"text:html"===d?c=b.appendHTML(c,f):(f=b.replaceHtmlEntity(f),c.appendChild(document.createTextNode(f)))}else if(c=document.createElement(d),e){var g=e.attrs,h=e.child;if(g)for(var i in g)"undefined"!=typeof g[i]&&c.setAttribute(i,g[i]);if(h){var j=b.createChildNodes(h);j.childNodes.length&&c.appendChild(j)}}return c},b.createChildNodes=function(a){for(var c=document.createDocumentFragment(),d=0,e=a.length;d<e;d++){var f=a[d];f&&f.length>0&&c.appendChild(b.createNode(f))}return c},b.text2html=function(a){var b=document.createElement("span");return b.innerHTML=a,b},b.replaceHtmlEntity=function(a){var b=function(){var b=document.createElement("textarea");return b.innerHTML=a,b.value};return/&(?:[a-z\d]+|#\d+|#x[a-f\d]+);/gi.test(a)?b(a):a},b.appendHTML=function(a,c){for(var d=b.text2html(c);d.childNodes.length>0;)a.appendChild(d.childNodes[0]);return a},b.toString=function(a){var b=document.createElement("span");return b.appendChild(_zm.getDOM(a)),b.innerHTML},a.htmlizer=function(a){return a.nodeName?a:b(a)},a}(window.zmComponent),window.zmComponent=function(a){"use strict";return a=a||{},a.bind=function(a){var b=a.elm,c=a.ev,d=a.fn,e=a.args,f=a.capture||!1,g=function(a){var b=this||window,c=e?[].concat(e):[];c.push(a),d.apply(b,c)};b.addEventListener?b.addEventListener(c,g,f):b.attachEvent&&b.attachEvent(c,g)},a.unbind=function(a){var b=a.elm,c=a.ev,d=a.fn,e=a.capture||!1;b.removeEventListener?b.removeEventListener(c,d,e):b.attachEvent&&b.detachEvent(c,d)},a}(window.zmComponent),function(a){"use strict";a=a||{};var b,c,d,e,f,g,h,i,j,k,l,m="folder",n="label",o="groups",p="#cceeff",q="check",r="uncheck";b=function(a){return k.process(a)},g={create:" Create "},h={base:function(a){var b=["DIV",{attrs:{"class":"SC_dd SC_ddFil"},child:[]}];return c&&b[1].child.push(["DIV",{child:[["SPAN",{child:[["INPUT",{attrs:{type:"text",placeholder:e}}]]}]]}]),b[1].child.push(["DIV",{attrs:{"class":"scrlldiv",style:"min-height:100px"},child:[["UL"]]}]),o===a&&b[1].child[1][1].child[0].push({attrs:{"class":"SC_Pr"}}),b},listItem:function(a,b){var c=["LI"];switch(a){case m:break;case n:c=["LI",{child:[["I"]]}],d&&c[1].child.push(["DIV",{attrs:{"class":"SClbl"}}]);break;case o:var e=b.count?["B",{child:[["text",b.name]]}]:["text",b.name],f=b.count?["B",{child:[["text",b.count]]}]:["text",b.count];c=["LI",{child:[["DIV",{child:[e]}],["IMG",{attrs:{src:b.logo}}],["SPAN",{attrs:{style:"position: absolute;top: 4px;right: 10px;font-size: 80%;"},child:[f]}]]}]}return c},displayTextWraper:["DIV",{attrs:{"class":"SC_text",style:"display: inline-block; width: 150px"}}],addNewRow:["LI",{child:[["FONT",{attrs:{"class":"SC_link"},child:[["text",g.create]]}],["FONT"]]}]},i={check:"msi-check",uncheck:"msi-uncheck",partial:"msi-partcheck"},j={init:function(a){return zmComponent.htmlizer(h.base(a))},listItem:function(a,b){return zmComponent.htmlizer(h.listItem(a,b))},displayTextWrapper:function(){return zmComponent.htmlizer(h.displayTextWraper)},addNewRow:function(){return zmComponent.htmlizer(h.addNewRow)}},k=function(){var a,b,g,h,k,s,t,u,v,w,x,y,z=m,A=!0,B=!1,C=!0,D="name",E={init:function(i){return z=i.type,D=i.search,a=i.display,b=i.liAttr,k=i.data,h=i.onSelect,A=i.hasOwnProperty("showCheckbox")?i.showCheckbox:A,B=i.hasOwnProperty("showTooltip")?i.showTooltip:B,C=i.hasOwnProperty("showCreate")?i.showCreate:C,c=_zm.getProperty(i,"ui.search"),d=_zm.getProperty(i,"ui.label.color"),e=_zm.getProperty(i,"ui.searchFieldPlaceholder"),f=_zm.getProperty(i,"ui.showUnreadCount"),c="undefined"==typeof c||c,d="undefined"==typeof d||d,e="undefined"==typeof e?"":e,f="undefined"==typeof f||f,s={},t=[],u=[],v=[],w=[],x=[],y=[],g=j.init(z),l.init(g,i.addNew),E.data(),document.body.appendChild(g),c&&setTimeout(function(){g.getElementsByTagName("INPUT")[0].focus()},100),g},getListHolder:function(){return g.getElementsByClassName("scrlldiv")[0].getElementsByTagName("ul")[0]},data:function(){E.indexData.init(k),E.populateList()},indexData:{init:function(b){var c,d=k.length;for(c=0;c<d;c++){var e=b[c],f=e[D];u.push(f),s[f]=e,t.push(e[a]),z===n&&E.indexData.labelGroup(e)}z===n&&E.indexData.groupLabelData()},labelGroup:function(a){var b=a.type;b===q?w.push(a):b===r?x.push(a):y.push(a)},groupLabelData:function(){v=w.concat(y).concat(x)}},match:function(a){var b=[];if(a=a.trim(),E.clearList(),a&&"string"==typeof a&&a.length>0){var c,d,e=u.length,f=a.length,g=!1;for(c=0;c<e;c++){d=u[c];var h,i,k,l=!1,m=s[d];if(d===a)g=!0,l=!0,i=d;else{var n=d.toLowerCase(),o=a.toLowerCase(),p=n.indexOf(o);if(p>=0){l=!0;var q=p+f;d=t[c],h=d.substring(0,p),i=d.substring(p,q),k=d.substring(q)}}if(l){var r=[];h&&r.push(["text",h]),r.push(["FONT",{attrs:{"class":"SC_Fred"},child:[["text",i]]}]),k&&r.push(["text",k]),m.highlightedDom=zmComponent.htmlizer(r),E.addnewlistItem(E.listItem(m,!0))}}if(!g&&C){var v=j.addNewRow();v.childNodes[1].appendChild(document.createTextNode(a)),E.addnewlistItem(v,!0,a)}}else E.populateList();return b},clearList:function(){var a=E.getListHolder();a.innerHTML=""},populateList:function(){var a,b,c=z!==n?k:v,d=c.length;for(a=0;a<d;a++)b=c[a],E.addnewlistItem(E.listItem(b))},addnewlistItem:function(a,b,c){var d=E.getListHolder();d.appendChild(a),b?l.addnew(a,c):l.listItem(a,z)},listItem:function(c,e){var g,i=e?c.highlightedDom:document.createTextNode(c[a]);if(z===o){g={},g.name=c.name,g.logo=c.photo;var k="";f&&(k=c.scount,k>99?k="99+":k<1&&(k="")),g.count=k}var l=j.listItem(z,g);if(c.elm=l,_zm.setAttr(l,b),z===n&&(d&&(_zm(".","SClbl",l)[0].style.backgroundColor=c.color||p),A&&E.updateLabelCheckbox(c,c.type),c.chkboxState=E.updateLabelCheckbox),B&&c.tooltip&&E.setTooltip(l,c.tooltip),z!==o){var m=j.displayTextWrapper();m.appendChild(i),l.appendChild(m)}return zmComponent.bind({elm:l,ev:"click",fn:h,args:[c]}),l},updateLabelCheckbox:function(a,b){b=b||r,a.type=b;var c=a.elm.childNodes[0];c.className="",_zm.addClass(c,i[b])},setTooltip:function(a,b){_zm.setAttr(a,{title:b})}};return{process:E.init,match:E.match}}(),l={addnewfn:void 0,init:function(a,b){var d=a.children;if(this.addnewfn=function(a,c){window.console.log("addnew",a,c),"undefined"!=typeof b&&b(a,c)},c){var e=d[0].getElementsByTagName("INPUT")[0],f=d[1];this.autofill(e,f)}},autofill:function(a){var b={};b.elm=a,b.ev="keyup",b.fn=function(){var a=arguments[0],b=a.value;k.match(b)},b.args=a,zmComponent.bind(b)},listItem:function(){},addnew:function(a,b){zmComponent.bind({elm:a,ev:"click",fn:this.addnewfn,args:[a,b]})}},a.folderLabel=b}(zmComponent),window.zmComponent=function(a){"use strict";a=a||{};var b={listing:["DIV",{attrs:{"class":"SC_ldr"},child:[["DIV",{attrs:{"class":"SC_ldsld"},child:[["DIV",{attrs:{"class":"SC_llne"}}],["DIV",{attrs:{"class":"SC_lbrk SC_ldt1"}}],["DIV",{attrs:{"class":"SC_lbrk SC_ldt2"}}],["DIV",{attrs:{"class":"SC_lbrk SC_ldt3"}}]]}]]}],pagination:["DIV",{attrs:{"class":"SC_sld"},child:[["DIV",{attrs:{"class":"SC_sldt SC_sldt1"}}],["DIV",{attrs:{"class":"SC_sldt SC_sldt2"}}],["DIV",{attrs:{"class":"SC_sldt SC_sldt3"}}],["DIV",{attrs:{"class":"SC_sldt SC_sldt4"}}]]}]},c=function(a){if(a||a.container){var c=a.type||"listing",d=zmComponent.htmlizer(b[c]||b.listing),e=a.container;return"listing"!==c||a.notToSetInnerHTML||(e.innerHTML=""),a.addAtFirst&&e.firstChild?e.insertBefore(d,e.firstChild):e.appendChild(d),function(){_zm.removeElement(d)}}};return a.loadingBand=function(a){return c(a)},a}(window.zmComponent),window.zmComponent=function(a){"use strict";a=a||{};var b,c=!1,d=['<div ref="wrapper" class="SC_Pop SC_SetPopMax wht">','<h1 class="maskTitle">','<div class="maskTitleDiv" ref="contentWrapper">','<span ref="contentDOM" style="position:relative; top:-4px;">',"</span>","</div>","</h1>","</div>"].join(""),e=['<div class="SC_sld">','<div class="SC_sldt SC_sldt1"></div>','<div class="SC_sldt SC_sldt2"></div>','<div class="SC_sldt SC_sldt3"></div>','<div class="SC_sldt SC_sldt4"></div>',"<div>"].join(""),f=function(a){if(a=a||{},!c||a.overwrite){b=_zm.getDOMReferenceMap(d,!0);var f=a.maskText||"Loading";return $(b.contentDOM).text(f),a.avoidLoadingAnim||$(b.contentWrapper).append(e),$("body").append(b.wrapper),c=!0,{remove:function(){c=!1,$(b.wrapper).remove()},$el:b.wrapper}}};return a.loadingMasks=function(a){return f(a)},a}(window.zmComponent),window.zmComponent=function(a){"use strict";a=a||{};var b,c,d,e,f,g,h,i,j,k,l=window.navigator.userAgent.toLowerCase().indexOf("mac")!==-1,m={},n={},o={},p={},q={},r="",s=3,t=0,u=[500,900],v={allowDefaultScope:!0},w=["INPUT","TEXTAREA"],x=function(a){return q[a]||v};b={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"delete",186:"semiColon",188:"comma",187:"equalTo",189:"minus",190:"period",191:"forwardSlash",192:"backtick",219:"openBracket",220:"backSlash",221:"closeBracket",222:"singleQuote"},c={8:"delete"},d=function(a){return a=a||window.event,a.keyCode||a.which},e=function(a){var e=d(a);return l&&c[e]||b[e]||String.fromCharCode(e)},g=function(){window.console.log(f(arguments).join(" : "))},f=function(a){return[].slice.call(a)};var y=function(a,b){a in p||(p[a]={});var c=p[a],d="/",e=b.split(d);e.forEach(function(a,b){var f=e.slice(0,b+1);f.reduce(function(a,b){a.push(b);var e=a.join(d);return e in c?c[e]+=1:c[e]=1,a},[])})},z=function(a){a=a||{};var b="";b+=a.ctrlKey?"ctrl":"",a.shiftKey&&(b+=b?"+shift":"shift"),a.altKey&&(b+=b?"+alt":"alt"),a.metaKey&&(b+=b?"+metaKey":"metaKey");var c=[16,17,18,91,93];return c.indexOf(d(a))<0?(b+=b?"+"+e(a):e(a),t+=1):b="",b},A=function(a){var b=a.srcElement||a.originalTarget,c="true"===b.getAttribute("data-enableShortcuts"),d=w.indexOf(b.tagName.toUpperCase())>-1||"true"===b.getAttribute("contentEditable");return d&&!c},B=function(a,b){b=b||h;var c=o.getScope(b);return c&&c[a]||!1},C=function(){r="",t=0,i&&window.clearTimeout(i),i=null},D=function(a,b){var c=B(r,b);if(c){if(!c.includeHandling&&A(a))return!0;for(var d=c.actions,e=0,f=d.length;e<f;e++)d[e](c.uid,c.group,a);c.preventDefault&&a.preventDefault()}C()};return o.add=function(a){var b=a.scope,c=a.keyStr;return n[b]||(n[b]={}),n[b][c]?void g(["error : keyStr alread exists",b,c]):(y(b,c),void(n[b][c]=a))},o.remove=function(a,b){n[a]&&n[a][b]&&delete n[a][b]},o.getScope=function(a){return n[a]},o.dropScope=function(a){h=h===a?void 0:h,j=j===a?void 0:j,delete n[a],delete p[a],delete q[a]},m.handleEvent=function(a){var b,c,d,e,f,g,j,k=p[h]||{},l=p["default"];return a=arguments[arguments.length-1],!!A(a)||(b=z(a),r+=r?"/"+b:b,g=x(h).allowDefaultScope,d=g&&l[r]||0,e=k[r]||0,f=d+e,void(f?(j=e?h:"default",f>1&&t<s?(i&&window.clearTimeout(i),i=window.setTimeout(function(){D(a,j)},u[t-1]),c=B(r,j),c&&c.preventDefault&&a.preventDefault()):D(a,j)):C()))},m.register=function(a,b,c,d,e,f,g){var h={scope:a,uid:b,keyStr:c,actions:d,includeHandling:e,preventDefault:f,group:g||"default"};o.add(h)},m.registerAll=function(a){var b,c,d=a.shortcuts,e=d.length,f=a.scope,g=a.allowDefaultScope,h=a.isSuperScope,i=a.parentScope;if(h&&i)return void window.console.error("Super scope should not have its parentscope");for(g=void 0===g||g,q[f]={scope:f,allowDefaultScope:void 0===g||g,isSuperScope:h,parentScope:i},c=0;c<e;c++)b=d[c],b.scope=f||b.scope,o.add(b)},m.deregister=function(a,b){o.remove(a,b)},m.setScope=function(a){var b=x(a),c=b.isSuperScope,d=b.parentScope,e=void 0===j?void 0:j===d;return c&&j&&a!==j?void window.console.error("Already a super scope is there, remove that scope to set new super scope"):void(c?h=j=a:void 0===e&&void 0===d?h=k=a:e===!1?k=a:j&&(h=a))},m.getScope=function(){return h},m.getCurrentSuperScope=function(){return j},m.getCurrentNormalScope=function(){return k},m.dropScope=function(a){o.dropScope(a)},m.handlers={},m.handlers.add=function(a,b,c){o.getScope(h)[b].actions.push(c)},m.handlers.remove=function(a,b,c){var d=o.getScope(h)[b].actions,e=d.indexOf(c);e>-1&&(d.splice(e,1),o.getScope(h)[b].actions=d)},m.listener=function(){var b=function(b){a.bind({ev:"keydown",fn:m.handleEvent,elm:b,capture:!0})},c=function(b){a.unbind({ev:"keydown",fn:m.handleEvent,elm:b})};return{add:b,remove:c}}(),m.keyLog=p,m.scopeInfos=q,m.listener.add(window),a.keybindings=m,a}(window.zmComponent),window.zmComponent=function(a){"use strict";a=a||{};var b,c,d,e,f,g,h,i,j;return b=function(a){d(a)},a.removeTooltip=function(b){a.unbind({elm:b.elm,ev:"mouseover",fn:i}),a.unbind({elm:b.elm,ev:"mouseout",fn:j}),a.unbind({elm:b.elm,ev:"click",fn:j})},d=function(b){a.bind({elm:b.elm,ev:"mouseover",fn:i,args:b}),a.bind({elm:b.elm,ev:"mouseout",fn:j,args:b}),a.bind({elm:b.elm,ev:"click",fn:j,args:b})},i=function(a){g(a)},j=function(a){_zm.addClass(a.tooltip,"hd"),delete a.tooltip},e=function(){f||(f=a.htmlizer(["DIV"]),document.body.appendChild(f))},c=function(a,b,c){var d=a?["TABLE",{child:[["TR",{child:[["TH",{child:[["text",a]]}]]}],["TR",{child:[["TD",{child:[["text",b]]}]]}]]}]:["text",b];return zmComponent.htmlizer(["DIV",{attrs:{"class":"SC_tip hd "+c},child:[d]}])},g=function(a){e();var b,d,g,i,j,k;i=a.text,g=a.title,j=a.arrow,k={left:"lt",right:"rt",top:"tp"},k=k[j]||"",b=a.elm,d=c(g,i,k),a.tooltip=d,f.innerHTML="",f.appendChild(d),h(b,d,j),_zm.removeClass(d,"hd")},h=function(a,b,c){var d=a.getBoundingClientRect(),e=b.getBoundingClientRect(),f=d.top,g=d.left,h=d.height,i=d.width,j=f,k=g,l=7;"left"===c?k=g+i+l:"right"===c?k=g-(e.width+l):"top"===c&&(j=f+h+l,k=g+i/2-e.width/2),b.style.top=j+"px",b.style.left=k+"px"},a.tooltip=function(a){b(a)},a}(window.zmComponent),window.zmsTemplates=function(){"use strict";var a=function(a,b){var c,d,e,f;return c=document.createElement("div"),"center"===b?c.className="SC_cnt":c.className="SC_flt",a.chkBox&&(d=document.createElement("i"),d.className="msi-uncheck",a.chkClick&&$(d).click(a.chkClick),c.appendChild(d)),f=a.leftHTML||a.centerHTML,f&&(e=document.createElement("span"),e.className="SC_mtb",e.innerHTML=f,a.clk&&$(e).click(a.clk),a.centerAlign&&$(e).addClass("SC_Tcen"),c.appendChild(e)),c},b=function(a,b){var c,d,e,f,g,h,i,j,k,l,m="SC_flt";for(i=a.length,k=document.createDocumentFragment(),l=document.createElement("div"),"right"===b&&(m="SC_frt"),l.className=m,c=0;c<i;c++){for(e=document.createElement("span"),e.className="SC_mtb",a[c].tooltip&&zmComponent.tooltip({elm:e,text:a[c].tooltip,arrow:"top"}),h=a[c].iconList,j=h.length,d=0;d<j;d++)f=document.createElement("i"),f.className=h[d],e.appendChild(f);a[c].hasDrop&&(g=document.createElement("div"),g.className="SC_hd",e.appendChild(g)),a[c].data&&$(e).data("data-event",a[c].data),l.appendChild(e)}return k.appendChild(l),k},c={appendToLeft:function(a){$("#leftScroll").html(a.left)},appendToCenter:function(a){$("#zm_centerHolder").append(a)},appendToRight:function(a){$(".SCr_parent").append(a)},constructActionListIcons:function(a){var b,c,d,e,f,g,h,i,j,k,l,m;for(k=document.createElement("ul"),d=a.length,b=0;b<d;b++){for(i=document.createElement("li"),e=document.createElement("b"),a[b].hideIcon&&(i.style.display="none"),a[b].data&&i.setAttribute("data-event",a[b].data),l=document.createElement("span"),a[b].tooltip&&zmComponent.tooltip({elm:e,text:a[b].tooltip,arrow:"top"}),a[b].separator&&(i.className+=" SC_lbr"),$(i).click(a[b].clk),f=a[b].iconList,j=f.length,c=0;c<j;c++)a[b].text?(k.className+="SCtxt",l.innerHTML=f[c]):"string"==typeof f[c]?(g=document.createElement("i"),g.className=f[c],l.appendChild(g)):"object"==typeof f[c]&&f[c].txt&&(m=document.createElement("span"),m.innerHTML=f[c].txt,l.appendChild(m),$(i).addClass("SCtxt"),f[c].hide_txt&&$(i).addClass("SC_op3 SC_nopntr"));(a[b].dropAction||a[b].separator)&&(h=document.createElement("div"),h.className="SC_hd",e.appendChild(h)),"right"===a[b].align&&$(k).addClass("SC_frt"),a[b].customClass&&$(i).addClass(a[b].customClass),e.appendChild(l),i.appendChild(e),k.appendChild(i)}return k},constructHeader:function(c){var d;return d=document.createDocumentFragment(),c.left&&d.appendChild(a(c.left,"left")),c.center&&d.appendChild(a(c.center,"center")),c.right&&d.appendChild(b(c.right,"right")),$(d)},constructTagListHTML:function(a,b,c,d){a=a||[];var e,f,g=c||a.length,h=zmail.labInfo||{},i=0,j=[];for("default"===d&&(h=zmail.zohoAccLabInfo||{});i<g;i++)e=h[a[i]],e&&(f="<p data-mid="+e.id+" title='"+e.dispName+"'><font style='background-color:"+e.color+";'></font>",b&&(f+="<i>"+e.dispName+"</i>"),f+="</p>",j.push(f));return j.join("")}};return c}(),function(a){"use strict";var b,c,d={0:["Sunday","SUN"],1:["Monday","MON"],2:["Tuesday","TUE"],3:["Wednesday","WED"],4:["Thursday","THU"],5:["Friday","FRI"],6:["Saturday","SAT"]},e={"short":["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],"long":["January","February","March","April","May","June","July","August","September","October","November","December"]},f=1e3,g=60*f,h=60*g,i=24*h,j=7*i,k=1;b=function(a,b){var d,e,k,l,m,n;if(d=Date.now(),a=Number(a),k=d-a,l=new Date(a),m=c(l,"hr:min"),n=l.getDate()+1===new Date(d).getDate(),k>j)e=c(l,b);else if(n||k>i){var o=Math.round(k/i);e=o>1?c(l,"mm dd at hr:min",!1):"yesterday at "+m}else if(k>h){var p=Math.round(k/h);e=p<4?1===p?"1 hour ago":p+" hours ago":m}else if(k>g){var q=Math.round(k/g);e=q<5?"few minutes ago":q+" minutes ago"}else e=k>f?"few seconds ago":"just now";return e},c=function(a,b,c){if(!b)return a.toString();var f=a.getDate(),g=a.getMonth(),h=a.getFullYear(),i=a.getHours(),j=a.getMinutes(),l=a.getSeconds(),m=a.getDay(),n="",o=/min|sec|hr/.test(b);return c||(n=i>=12?"pm":"am",i%=12,i=i?i:12),m=d[m][k],g=e["short"][g],f=f<10?"0"+f:f,i=i<10?"0"+i:i,j=j<10?"0"+j:j,b=b.replace(/dd/,f),b=b.replace(/mm/,g),b=b.replace(/yyyy/,h),b=b.replace(/day/,m),b=b.replace(/hr/,i),b=b.replace(/min/,j),b=b.replace(/sec/,l),o&&!c&&(b+=" "+n),b},a=a||{},a.dateTimeUtil={format:c,relativeTime:b}}(zmComponent);